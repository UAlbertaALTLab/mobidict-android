#: import MDLabel kivymd.uix.label.MDLabel
#: import get_color_from_hex kivy.utils.get_color_from_hex
MainScreen:

<ResultWidget>:
    id: res
    orientation: 'vertical'
    # canvas.before:
    #     Color:
    #         rgba: (1, 0, 0, 1)
    #     Rectangle:
    #         pos: self.pos
    #         size: self.size

<ResultView>:
    viewclass: 'ResultWidget'
    RecycleBoxLayout:
        spacing: "15dp"
        default_size: None, dp(150)
        default_size_hint: 1, None
        default_pos_hint: {'x': 0.1}
        size_hint_y: None
        size_hint_x: 0.8
        pos_hint: {'x': 0.1}
        height: self.minimum_height
        orientation: 'vertical'
        # canvas.before:
        #     Color:
        #         rgba: (1, 0, 0, 1)
        #     Rectangle: 
        #         pos: self.pos
        #         size: self.size


<LabelSettingsItem>:
    text: root.text
    theme_text_color: "Custom"
    text_color:  (1, 0, 0, 1)

<MainScreen@MDScreen>:
    MDNavigationLayout:
        WindowManager:
            id: screen_manager
            HomeScreen:
                name: "Home"
                MainLayout:
                    id: main_box_layout
                    orientation: "vertical"
                    # padding: "10dp"
                    # spacing: "10dp"
                    MDToolbar:
                        title: "Search"
                        elevation: 5
                        pos_hint: {"top": 1}
                        md_bg_color: get_color_from_hex("#8B0000")
                        specific_text_color: get_color_from_hex("#F5F2D0")
                        left_action_items:
                            [['menu', lambda x: nav_drawer.set_state("open")]]
                    BoxLayout:
                        size_hint: 1, 0.3
                        Label:
                            text: ""
                            size_hint: 0.1, 0.1
                        Image:
                            source: 'images/itwewina.png'
                            size_hint: None, None
                            height: "35dp"
                            width: "40dp"
                            pos_hint: {"y": 0.25}
                        BoxLayout:
                            orientation: 'vertical'
                            size_hint: 1, 0.8
                            Label:
                                text: "itwêwina"
                                font_size: 20
                                text_size: self.size
                                color: (0.635, 0.105, 0.105, 1)
                                halign: 'left'
                                valign: 'bottom'
                                pos_hint: {"x": 0.01}
                            Label:
                                text: "Plains Cree Dictionary"
                                color: (0, 0, 0, 1)
                                font_size: 11
                                text_size: self.size
                                halign: 'left'
                                valign: 'top'
                                pos_hint: {"x": 0.01}
                        
                    MDTextField:
                        id: input_word
                        mode: 'rectangle'
                        multiline: False
                        size_hint: 0.8, None
                        height: "35dp"
                        pos_hint: {"center_x": 0.5}
                        hint_text: "Search in Cree or English"
                        on_text_validate: root.ids.main_box_layout.on_submit_word(self)
                        line_color_focus: get_color_from_hex("#8B0000")
                        font_name: 'bjcrus.ttf'
                    Label:
                        text:''
                        size_hint: 1, 0.05
                    Label:
                        text: "This is an intelligent dictionary for Plains Cree, made by the [color=0000ff][ref=https://altlab.ualberta.ca][u]Alberta Language Technology Lab (ALTLab)[/u].[/ref][/color]"
                        color: (0, 0, 0, 1)
                        text_size: self.width, None
                        markup: True
                        on_ref_press:
                            import webbrowser
                            webbrowser.open("https://altlab.ualberta.ca")
                        halign: 'center'
                        valign: 'center'
                        size_hint: 0.8, None
                        height: self.texture_size[1] + 20
                        width: self.texture_size[0] + 20
                        font_size: 13
                        pos_hint: {"x": 0.1}
                        canvas.before:
                            Color:
                                rgba: (1, 1, 1, 1)
                            Rectangle: 
                                pos: self.pos
                                size: self.size
                    Label:
                        text:''
                        size_hint: 1, 0.05
                    ScrollView:
                        id: results_scroll_view
                        ResultView:
                            id: result_list_main
                    Label:
                        text: ""
                        size_hint: 1, None
                        height: "1dp"
            ResultScreen: 
                name: "Result"
                ResultPageMainLayout:
                    orientation: 'vertical'
                    MDToolbar:
                        title: "Results"
                        elevation: 5
                        pos_hint: {"top": 1}
                        md_bg_color: get_color_from_hex("#8B0000")
                        specific_text_color: get_color_from_hex("#F5F2D0")
                        left_action_items:
                            [['arrow-left', lambda x: app.root.ids.screen_manager.switch_back_home_screen()]]
                    MDLabel:
                        id: option_clicked
                        font_name: 'bjcrus.ttf'
            LegendOfAbbrPage:
                name: "Legend"
                MDToolbar:
                    title: "Legend of Abbreviations"
                    elevation: 5
                    pos_hint: {"top": 1}
                    md_bg_color: get_color_from_hex("#8B0000")
                    specific_text_color: get_color_from_hex("#F5F2D0")
                    left_action_items:
                        [['arrow-left', lambda x: app.root.ids.screen_manager.switch_back_home_screen()]]
                LegendPageMainLayout:
                    padding: "20dp"
                    orientation: 'vertical'
                    MDBoxLayout:
                        orientation: 'vertical'
                        MDLabel:
                            text: "" 
                            size_hint: 1, 0.01
                        MDLabel:
                            text: "Legend of abbreviations and terms"
                            bold: True 
                            size_hint: 1, 0.3
                            font_size: 20
                        MDLabel:
                            text: app.legend_of_abbr_text
                            markup: True
                            font_size: 13
                            valign: 'top'
                            text_size: self.size

        MDNavigationDrawer:
            id: nav_drawer
            md_bg_color: get_color_from_hex("#f7f4e7")

            ContentNavigationDrawer:
                orientation: 'vertical'
                spacing: "10dp"
                padding: "10dp"

                # MDLabel:
                #     text: ""
                #     size_hint: 1, 0.05
                MDBoxLayout:
                    orientation: 'horizontal'
                    size_hint: 1, 0.25
                    Image:
                        source: 'images/itwewina.png'
                        size_hint: None, None
                        height: "35dp"
                        width: "40dp"
                        pos_hint: {"y": 0.01}
                    BoxLayout:
                        orientation: 'vertical'
                        size_hint: 1, 0.8
                        Label:
                            text: "itwêwina"
                            font_size: 15
                            text_size: self.size
                            color: (0.635, 0.105, 0.105, 1)
                            halign: 'left'
                            valign: 'bottom'
                            pos_hint: {"x": 0.01}
                        Label:
                            text: "Plains Cree Dictionary"
                            color: (0, 0, 0, 1)
                            font_size: 11
                            text_size: self.size
                            halign: 'left'
                            valign: 'top'
                            pos_hint: {"x": 0.01}
                DrawerList:
                    id: navigation_drawer_list
                
                MDDropDownItem:
                    id: label_settings_dropdown
                    text: "SRO(êîôâ)"
                    on_release: app.menu.open()

                MDLabel:
                    # text: "ᐃᑘᐏᓇ"
                    text: ""
                    font_name: 'bjcrus.ttf'
                    size_hint: 1, 0.01
                BoxLayout:
                    padding: "10dp"
                    spacing: "10dp"
                    canvas.before:
                        Rectangle:
                            pos: self.pos
                            size: self.size
                            source: 'images/footer.jpg'

                        

                